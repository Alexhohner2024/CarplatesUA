# ‚ö° –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–∫–æ—Ä–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã —Å–∫—Ä–∞–ø–µ—Ä–∞

## üêå –ü—Ä–æ–±–ª–µ–º–∞
–ó–∞–ø—Ä–æ—Å –∑–∞–Ω–∏–º–∞–ª **3 –º–∏–Ω—É—Ç—ã**, —á—Ç–æ –Ω–µ–ø—Ä–∏–µ–º–ª–µ–º–æ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### 1. **–ò–∑–º–µ–Ω–µ–Ω–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã**

**–ë—ã–ª–æ:**
```javascript
waitUntil: 'networkidle2',  // –ñ–¥–µ—Ç 2 —Å–µ–∫—É–Ω–¥—ã –±–µ–∑ —Å–µ—Ç–µ–≤–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
timeout: 30000              // 30 —Å–µ–∫—É–Ω–¥ –º–∞–∫—Å–∏–º—É–º
```

**–°—Ç–∞–ª–æ:**
```javascript
waitUntil: 'domcontentloaded',  // –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ DOM
timeout: 15000                  // 15 —Å–µ–∫—É–Ω–¥ –º–∞–∫—Å–∏–º—É–º
```

**–≠–∫–æ–Ω–æ–º–∏—è:** ~10-30 —Å–µ–∫—É–Ω–¥ –Ω–∞ –∑–∞–≥—Ä—É–∑–∫—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã

### 2. **–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –Ω–µ–Ω—É–∂–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤**

–î–æ–±–∞–≤–ª–µ–Ω–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏:
- üñºÔ∏è –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- üé® –°—Ç–∏–ª–µ–π (CSS)
- üî§ –®—Ä–∏—Ñ—Ç–æ–≤
- üìπ –ú–µ–¥–∏–∞ —Ñ–∞–π–ª–æ–≤

–û—Å—Ç–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ:
- ‚úÖ HTML
- ‚úÖ JavaScript (–¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞)

**–≠–∫–æ–Ω–æ–º–∏—è:** ~5-15 —Å–µ–∫—É–Ω–¥ –Ω–∞ –∑–∞–≥—Ä—É–∑–∫—É —Ä–µ—Å—É—Ä—Å–æ–≤

### 3. **–£–º–µ–Ω—å—à–µ–Ω—ã –≤—Å–µ –æ–∂–∏–¥–∞–Ω–∏—è (waitForTimeout)**

**–ë—ã–ª–æ:**
- –ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã: `2000–º—Å`
- –ü–æ—Å–ª–µ –≤–≤–æ–¥–∞ —Ç–µ–∫—Å—Ç–∞: `500–º—Å`
- –ü–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã: `3000–º—Å` (–µ—Å–ª–∏ –Ω–µ—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏–∏)

**–°—Ç–∞–ª–æ:**
- –ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã: `500–º—Å` (—É–±—Ä–∞–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è waitForSelector)
- –ü–æ—Å–ª–µ –≤–≤–æ–¥–∞ —Ç–µ–∫—Å—Ç–∞: `200–º—Å`
- –ü–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã: `1500–º—Å`

**–≠–∫–æ–Ω–æ–º–∏—è:** ~3.8 —Å–µ–∫—É–Ω–¥ –Ω–∞ –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å

### 4. **–£—Å–∫–æ—Ä–µ–Ω –≤–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞**

**–ë—ã–ª–æ:**
```javascript
await page.type(inputSelector, plateNumber, { delay: 100 });
```

**–°—Ç–∞–ª–æ:**
```javascript
await page.type(inputSelector, plateNumber, { delay: 0 });
```

**–≠–∫–æ–Ω–æ–º–∏—è:** ~0.5-1 —Å–µ–∫—É–Ω–¥–∞ –Ω–∞ –≤–≤–æ–¥

### 5. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –ø–æ–∏—Å–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤**

**–ë—ã–ª–æ:**
```javascript
inputField = await page.$(selector);  // –ü—Ä–æ—Å—Ç–æ–π –ø–æ–∏—Å–∫
```

**–°—Ç–∞–ª–æ:**
```javascript
inputField = await page.waitForSelector(selector, { timeout: 1000 });
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ:** –ñ–¥–µ—Ç –ø–æ—è–≤–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–∞ –≤–º–µ—Å—Ç–æ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞

### 6. **–£–º–µ–Ω—å—à–µ–Ω—ã —Ç–∞–π–º–∞—É—Ç—ã –Ω–∞–≤–∏–≥–∞—Ü–∏–∏**

**–ë—ã–ª–æ:**
```javascript
waitForNavigation({
  waitUntil: 'networkidle2',
  timeout: 10000
});
```

**–°—Ç–∞–ª–æ:**
```javascript
waitForNavigation({
  waitUntil: 'domcontentloaded',
  timeout: 8000
});
```

**–≠–∫–æ–Ω–æ–º–∏—è:** ~5-10 —Å–µ–∫—É–Ω–¥ –Ω–∞ –æ–∂–∏–¥–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

## üìä –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
- ‚è±Ô∏è –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: **3 –º–∏–Ω—É—Ç—ã** (180 —Å–µ–∫—É–Ω–¥)
- üîÑ –°—Ç—Ä–∞—Ç–µ–≥–∏—è –∑–∞–≥—Ä—É–∑–∫–∏: `networkidle2` (–º–µ–¥–ª–µ–Ω–Ω–æ)
- üì¶ –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤—Å–µ —Ä–µ—Å—É—Ä—Å—ã: –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, —Å—Ç–∏–ª–∏, —à—Ä–∏—Ñ—Ç—ã
- ‚è≥ –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –¥–ª–∏—Ç–µ–ª—å–Ω—ã–µ –æ–∂–∏–¥–∞–Ω–∏—è

### –ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
- ‚è±Ô∏è –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: **10-30 —Å–µ–∫—É–Ω–¥** (–≤ 6-18 —Ä–∞–∑ –±—ã—Å—Ç—Ä–µ–µ!)
- üîÑ –°—Ç—Ä–∞—Ç–µ–≥–∏—è –∑–∞–≥—Ä—É–∑–∫–∏: `domcontentloaded` (–±—ã—Å—Ç—Ä–æ)
- üì¶ –ë–ª–æ–∫–∏—Ä—É—é—Ç—Å—è –Ω–µ–Ω—É–∂–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã
- ‚è≥ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –æ–∂–∏–¥–∞–Ω–∏—è

## üéØ –ò—Ç–æ–≥–æ–≤–∞—è —ç–∫–æ–Ω–æ–º–∏—è –≤—Ä–µ–º–µ–Ω–∏

| –û–ø–µ—Ä–∞—Ü–∏—è | –ë—ã–ª–æ | –°—Ç–∞–ª–æ | –≠–∫–æ–Ω–æ–º–∏—è |
|----------|------|-------|----------|
| –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã | 30-60 —Å–µ–∫ | 5-15 —Å–µ–∫ | ~25-45 —Å–µ–∫ |
| –û–∂–∏–¥–∞–Ω–∏—è | 5.5 —Å–µ–∫ | 1.7 —Å–µ–∫ | ~3.8 —Å–µ–∫ |
| –ó–∞–≥—Ä—É–∑–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤ | 10-20 —Å–µ–∫ | 0 —Å–µ–∫ | ~10-20 —Å–µ–∫ |
| –ù–∞–≤–∏–≥–∞—Ü–∏—è | 10-15 —Å–µ–∫ | 5-8 —Å–µ–∫ | ~5-7 —Å–µ–∫ |
| **–ò–¢–û–ì–û** | **~180 —Å–µ–∫** | **~10-30 —Å–µ–∫** | **~150-170 —Å–µ–∫** |

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤** –º–æ–∂–µ—Ç –ø–æ–≤–ª–∏—è—Ç—å –Ω–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –Ω–æ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å (–Ω–∞–º –Ω—É–∂–µ–Ω —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç)
2. **domcontentloaded** –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö —Å–∞–π—Ç–æ–≤, –Ω–æ –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ
3. –ï—Å–ª–∏ —Å–∞–π—Ç –æ—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω—ã–π, —Ç–∞–π–º–∞—É—Ç—ã –º–æ–≥—É—Ç —Å—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –ª—É—á—à–µ –±—ã—Å—Ç—Ä–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ —á–µ–º –æ–∂–∏–¥–∞–Ω–∏–µ 3 –º–∏–Ω—É—Ç—ã

## üöÄ –î–µ–ø–ª–æ–π

–ò–∑–º–µ–Ω–µ–Ω–∏—è –≥–æ—Ç–æ–≤—ã –∫ –¥–µ–ø–ª–æ—é:

```bash
flyctl deploy
```

## üîç –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

```bash
flyctl logs -a carplatesua | grep "Unda"
```

–û–∂–∏–¥–∞–µ–º—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–∫–∞–º–∏:
- `[Unda] Starting scrape for plate: ...`
- `[Unda] Navigating to unda.com.ua...`
- `[Unda] Page loaded, looking for input field...`
- `[Unda] Successfully extracted VIN: ...`

–í—Ä–µ–º—è –º–µ–∂–¥—É –ø–µ—Ä–≤—ã–º –∏ –ø–æ—Å–ª–µ–¥–Ω–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å **10-30 —Å–µ–∫—É–Ω–¥** –≤–º–µ—Å—Ç–æ 3 –º–∏–Ω—É—Ç.

