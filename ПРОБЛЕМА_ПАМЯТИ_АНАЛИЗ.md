# üîç –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–∏ 512 –ú–ë –ø–∞–º—è—Ç–∏

## üìä –¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ—Å–ª–µ —É–º–µ–Ω—å—à–µ–Ω–∏—è –ø–∞–º—è—Ç–∏ —Å 1 –ì–ë –¥–æ 512 –ú–ë —á–∞—Ç-–±–æ—Ç –Ω–∞—á–∞–ª —Ä–∞–±–æ—Ç–∞—Ç—å –º–µ–¥–ª–µ–Ω–Ω–µ–µ.

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –∑–∞–º–µ–¥–ª–µ–Ω–∏—è

### 1. **Puppeteer + Chromium - –≥–ª–∞–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞**

**–¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –í —Ñ–∞–π–ª–µ `scrapers/unda-scraper.js` –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ –Ω–æ–º–µ—Ä–∞ (–Ω–µ VIN) —Å–æ–∑–¥–∞–µ—Ç—Å—è **–Ω–æ–≤—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä –±—Ä–∞—É–∑–µ—Ä–∞**
- –ë—Ä–∞—É–∑–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `puppeteer.launch()` –∫–∞–∂–¥—ã–π —Ä–∞–∑
- –ë—Ä–∞—É–∑–µ—Ä –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞

**–ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏:**
- Chromium –±—Ä–∞—É–∑–µ—Ä: **200-400 –ú–ë** –Ω–∞ —ç–∫–∑–µ–º–ø–ª—è—Ä
- Node.js –ø—Ä–æ—Ü–µ—Å—Å: **50-100 –ú–ë**
- –°–∏—Å—Ç–µ–º–∞ –∏ –¥—Ä—É–≥–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã: **50-100 –ú–ë**
- **–ò—Ç–æ–≥–æ: ~350-600 –ú–ë** –ø—Ä–∏ –∞–∫—Ç–∏–≤–Ω–æ–º –∑–∞–ø—Ä–æ—Å–µ

**–ü—Ä–∏ 512 –ú–ë –ø–∞–º—è—Ç–∏:**
- ‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–µ—Å—Ç–∞ –¥–ª—è –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã
- ‚ùå –°–∏—Å—Ç–µ–º–∞ –≤—ã–Ω—É–∂–¥–µ–Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **swap** (–≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –ø–∞–º—è—Ç—å –Ω–∞ –¥–∏—Å–∫–µ)
- ‚ùå Swap –≤ **100-1000 —Ä–∞–∑ –º–µ–¥–ª–µ–Ω–Ω–µ–µ** —á–µ–º RAM
- ‚ùå –ë—Ä–∞—É–∑–µ—Ä –º–æ–∂–µ—Ç –ø–∞–¥–∞—Ç—å –∏–∑-–∑–∞ –Ω–µ—Ö–≤–∞—Ç–∫–∏ –ø–∞–º—è—Ç–∏ (OOM - Out of Memory)

### 2. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –±—Ä–∞—É–∑–µ—Ä–∞**

**–ü—Ä–æ–±–ª–µ–º–∞:**
```javascript
// –¢–µ–∫—É—â–∏–π –∫–æ–¥ –≤ unda-scraper.js
export async function scrapeUndaVin(plateNumber) {
  const browser = await puppeteer.launch({...}); // ‚Üê –ù–æ–≤—ã–π –±—Ä–∞—É–∑–µ—Ä –∫–∞–∂–¥—ã–π —Ä–∞–∑!
  try {
    // —Ä–∞–±–æ—Ç–∞...
  } finally {
    await browser.close(); // ‚Üê –ó–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
  }
}
```

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:**
- –ö–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å = –∑–∞–ø—É—Å–∫ –Ω–æ–≤–æ–≥–æ –±—Ä–∞—É–∑–µ—Ä–∞ (2-5 —Å–µ–∫—É–Ω–¥)
- –ö–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å = –≤—ã–¥–µ–ª–µ–Ω–∏–µ 200-400 –ú–ë –ø–∞–º—è—Ç–∏
- –ö–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å = –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ (–º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω—ã–º –ø—Ä–∏ swap)

### 3. **–ù–µ–æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Puppeteer**

**–¢–µ–∫—É—â–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã:**
```javascript
args: [
  '--no-sandbox',
  '--disable-setuid-sandbox',
  '--disable-dev-shm-usage',
  '--disable-accelerated-2d-canvas',
  '--disable-gpu',
  '--disable-software-rasterizer',
  '--disable-extensions',
  '--window-size=1920,1080' // ‚Üê –ë–æ–ª—å—à–æ–π —Ä–∞–∑–º–µ—Ä –æ–∫–Ω–∞
]
```

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç —Ñ–ª–∞–≥–∏ –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–∞–º—è—Ç–∏
- –ë–æ–ª—å—à–æ–π —Ä–∞–∑–º–µ—Ä –æ–∫–Ω–∞ (1920x1080) —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏
- –ù–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ Chromium

## üí° –†–µ—à–µ–Ω–∏—è

### ‚úÖ –†–µ—à–µ–Ω–∏–µ 1: –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–∞ (Browser Pool)

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –í–´–°–û–ö–ò–ô**

–°–æ–∑–¥–∞—Ç—å –ø—É–ª –±—Ä–∞—É–∑–µ—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä:

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ë—Ä–∞—É–∑–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –ü–æ—Å–ª–µ–¥—É—é—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç —É–∂–µ –∑–∞–ø—É—â–µ–Ω–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä
- –≠–∫–æ–Ω–æ–º–∏—è 2-5 —Å–µ–∫—É–Ω–¥ –Ω–∞ –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å
- –°–Ω–∏–∂–µ–Ω–∏–µ –ø–∏–∫–æ–≤–æ–≥–æ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –°–æ–∑–¥–∞—Ç—å –º–æ–¥—É–ª—å `services/browser-pool.js`
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –±—Ä–∞—É–∑–µ—Ä –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –±–æ—Ç–∞
- –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±—Ä–∞—É–∑–µ—Ä –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –ó–∞–∫—Ä—ã–≤–∞—Ç—å –±—Ä–∞—É–∑–µ—Ä —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### ‚úÖ –†–µ—à–µ–Ω–∏–µ 2: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ Puppeteer

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –°–†–ï–î–ù–ò–ô**

–î–æ–±–∞–≤–∏—Ç—å —Ñ–ª–∞–≥–∏ –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏:

```javascript
args: [
  '--no-sandbox',
  '--disable-setuid-sandbox',
  '--disable-dev-shm-usage',
  '--disable-accelerated-2d-canvas',
  '--disable-gpu',
  '--disable-software-rasterizer',
  '--disable-extensions',
  '--window-size=800,600', // ‚Üê –£–º–µ–Ω—å—à–∏—Ç—å —Ä–∞–∑–º–µ—Ä
  '--single-process', // ‚Üê –û–¥–∏–Ω –ø—Ä–æ—Ü–µ—Å—Å (—ç–∫–æ–Ω–æ–º–∏—è –ø–∞–º—è—Ç–∏)
  '--disable-background-timer-throttling',
  '--disable-backgrounding-occluded-windows',
  '--disable-renderer-backgrounding',
  '--disable-features=TranslateUI',
  '--disable-ipc-flooding-protection',
  '--memory-pressure-off', // ‚Üê –û—Ç–∫–ª—é—á–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–∞–º—è—Ç–∏
  '--max-old-space-size=256' // ‚Üê –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –ø–∞–º—è—Ç—å Node.js
]
```

**–í–Ω–∏–º–∞–Ω–∏–µ:** `--single-process` –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏, –Ω–æ —ç–∫–æ–Ω–æ–º–∏—Ç –ø–∞–º—è—Ç—å.

### ‚úÖ –†–µ—à–µ–Ω–∏–µ 3: –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ –¥–æ 1 –ì–ë

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –ù–ò–ó–ö–ò–ô** (–µ—Å–ª–∏ –Ω–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥)

–ï—Å–ª–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–æ–¥–∞ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–∞, –≤–µ—Ä–Ω—É—Ç—å –ø–∞–º—è—Ç—å –æ–±—Ä–∞—Ç–Ω–æ –¥–æ 1 –ì–ë –≤ `fly.toml`:

```toml
[[vm]]
  memory = '1gb'
  memory_mb = 1024
```

### ‚úÖ –†–µ—à–µ–Ω–∏–µ 4: –õ–µ–Ω–∏–≤–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±—Ä–∞—É–∑–µ—Ä–∞

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –°–†–ï–î–ù–ò–ô**

–ó–∞–ø—É—Å–∫–∞—Ç—å –±—Ä–∞—É–∑–µ—Ä —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –æ–Ω –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω—É–∂–µ–Ω (–ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –Ω–æ–º–µ—Ä–∞, –∞ –Ω–µ VIN):

**–¢–µ–∫—É—â–∞—è –ª–æ–≥–∏–∫–∞:**
- VIN –∑–∞–ø—Ä–æ—Å ‚Üí –Ω–µ –Ω—É–∂–µ–Ω –±—Ä–∞—É–∑–µ—Ä (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ API)
- –ù–æ–º–µ—Ä –∑–∞–ø—Ä–æ—Å ‚Üí –Ω—É–∂–µ–Ω –±—Ä–∞—É–∑–µ—Ä (—Å–∫—Ä–∞–ø–∏–Ω–≥ unda.com.ua)

**–£–ª—É—á—à–µ–Ω–∏–µ:**
- –ë—Ä–∞—É–∑–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—Ä–æ—Å–µ –Ω–æ–º–µ—Ä–∞
- –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

## üìà –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### –î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (512 –ú–ë):
- ‚è±Ô∏è –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: **5-15 —Å–µ–∫—É–Ω–¥** (–∏–∑-–∑–∞ swap)
- üíæ –ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏: **350-500 –ú–ë** (–ø–∏–∫)
- ‚ö†Ô∏è –†–∏—Å–∫ –ø–∞–¥–µ–Ω–∏–π: **–í—ã—Å–æ–∫–∏–π** (OOM errors)
- üîÑ –°–æ–∑–¥–∞–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–∞: **–ö–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å**

### –ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (512 –ú–ë):
- ‚è±Ô∏è –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: **2-5 —Å–µ–∫—É–Ω–¥** (–±–µ–∑ swap)
- üíæ –ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏: **200-300 –ú–ë** (—Å—Ç–∞–±–∏–ª—å–Ω–æ)
- ‚úÖ –†–∏—Å–∫ –ø–∞–¥–µ–Ω–∏–π: **–ù–∏–∑–∫–∏–π**
- üîÑ –°–æ–∑–¥–∞–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–∞: **–û–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ**

## üéØ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π

1. **–ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–∞ (–†–µ—à–µ–Ω–∏–µ 1)
2. **–°–∫–æ—Ä–æ:** –î–æ–±–∞–≤–∏—Ç—å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–ª–∞–≥–∏ Puppeteer (–†–µ—à–µ–Ω–∏–µ 2)
3. **–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ:** –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã –æ—Å—Ç–∞—é—Ç—Å—è, —É–≤–µ–ª–∏—á–∏—Ç—å –ø–∞–º—è—Ç—å –¥–æ 1 –ì–ë (–†–µ—à–µ–Ω–∏–µ 3)

## üìù –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–∞–º—è—Ç–∏

–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏:

```javascript
const used = process.memoryUsage();
console.log(`Memory: ${Math.round(used.heapUsed / 1024 / 1024)}MB`);
```

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç—Å—è, —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `puppeteer-core` —Å –±–æ–ª–µ–µ –ª–µ–≥–∫–∏–º –±—Ä–∞—É–∑–µ—Ä–æ–º
- –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (Playwright –º–æ–∂–µ—Ç –±—ã—Ç—å –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–º)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ headless –±—Ä–∞—É–∑–µ—Ä–∞ —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏

